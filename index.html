<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spelling Bee Minimal Hint - Daily Puzzle Helper</title>
    <meta name="description" content="A spoiler-free hint tool for NYT Spelling Bee. Get the count of matching words without revealing answers. Type letters or use wildcards to see how many words match your guess.">
    <meta name="keywords" content="spelling bee, nyt spelling bee, spelling bee hints, spelling bee helper, spelling bee solver, word game helper, puzzle hints">
    <meta name="author" content="Spelling Bee Minimal Hint">
    <meta property="og:title" content="Spelling Bee Minimal Hint - Daily Puzzle Helper">
    <meta property="og:description" content="A spoiler-free hint tool for NYT Spelling Bee. See how many words match without revealing answers.">
    <meta property="og:type" content="website">
    <style>
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            height: 100%;
        }
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }
    </style>
    <style>
        .hive {
            position: relative;
            width: 190px;
            height: 190px;
            margin-top: 20px;
        }
        .hex {
            position: absolute;
            width: 64px;
            height: 56px;
            background: #e6e6e6;
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
        }
        .hex:hover { background: #d0d0d0; }
        .hex.center { background: #f7da21; }
        .hex.center:hover { background: #e6c91a; }
        .hex.pos-0 { left: 66px; top: 0; }
        .hex.pos-1 { left: 12px; top: 32px; }
        .hex.pos-2 { left: 120px; top: 32px; }
        .hex.pos-c { left: 66px; top: 64px; }
        .hex.pos-3 { left: 12px; top: 96px; }
        .hex.pos-4 { left: 120px; top: 96px; }
        .hex.pos-5 { left: 66px; top: 128px; }
        #word { font-size: 24px; margin: 20px 0; min-height: 30px; text-align: center; }
        #count { font-size: 20px; margin-left: 10px; }
        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .btn {
            padding: 10px 20px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background: white;
            cursor: pointer;
        }
        .btn:hover { background: #f0f0f0; }
        .btn.round {
            width: 44px;
            height: 44px;
            padding: 0;
            border-radius: 50%;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .title {
            font-family: Georgia, 'Times New Roman', Times, serif;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">Spelling Bee Minimal Hint</h1>
        <div><span id="word"></span><span id="count"></span></div>
        <div id="letters" class="hive"></div>
        <div class="buttons">
            <button class="btn" id="deleteBtn">Delete</button>
            <button class="btn round" id="wildBtn" style="font-size: 24px;">âœ±</button>
            <button class="btn" id="shuffleBtn">Shuffle</button>
        </div>
    </div>
    <input type="text" id="guess" style="opacity: 0; position: absolute;">
    
    <script>
        let answers = [];
        let validLetters = [];
        let centerLetter = '';
        
        document.getElementById('guess').addEventListener('input', (e) => {
            const raw = e.target.value.toLowerCase();
            const value = raw.split('').filter(c => c === '*' || validLetters.includes(c)).join('');
            if (value !== raw) e.target.value = value;
            const wordEl = document.getElementById('word');
            wordEl.textContent = value.toUpperCase();
            wordEl.style.fontWeight = answers.includes(value) ? 'bold' : 'normal';
            const letters = value.replace(/\*/g, '');
            
            if (letters.length < 1) {
                document.getElementById('count').textContent = '';
                return;
            }
            
            if (value.includes('*')) {
                const pattern = '^' + value.replace(/\*/g, '.*') + '$';
                const regex = new RegExp(pattern);
                const matches = answers.filter(a => regex.test(a));
                document.getElementById('count').textContent = matches.length;
            } else {
                const matches = answers.filter(a => a.startsWith(value));
                document.getElementById('count').textContent = matches.length;
            }
        });
    </script>
    
    <script>
        async function fetchSpellingBeeAnswers() {
            try {
                const response = await fetch('https://www.nytimes.com/puzzles/spelling-bee');
                const html = await response.text();
                
                const startMarker = 'window.gameData = ';
                const startIdx = html.indexOf(startMarker);
                if (startIdx === -1) {
                    console.log('No gameData found');
                    return;
                }
                
                const jsonStart = startIdx + startMarker.length;
                let braceCount = 0;
                let jsonEnd = jsonStart;
                
                for (let i = jsonStart; i < html.length; i++) {
                    if (html[i] === '{') braceCount++;
                    if (html[i] === '}') braceCount--;
                    if (braceCount === 0) {
                        jsonEnd = i + 1;
                        break;
                    }
                }
                
                const jsonStr = html.slice(jsonStart, jsonEnd);
                const gameData = JSON.parse(jsonStr);
                answers = gameData.today.answers;
                validLetters = gameData.today.validLetters;
                centerLetter = gameData.today.centerLetter;
                
                const others = validLetters.filter(l => l !== centerLetter);
                
                const hexes = [
                    { letter: others[0], pos: 'pos-0' },
                    { letter: others[1], pos: 'pos-1' },
                    { letter: others[2], pos: 'pos-2' },
                    { letter: centerLetter, pos: 'pos-c center' },
                    { letter: others[3], pos: 'pos-3' },
                    { letter: others[4], pos: 'pos-4' },
                    { letter: others[5], pos: 'pos-5' },
                ];
                
                document.getElementById('letters').innerHTML = hexes.map(h => 
                    `<div class="hex ${h.pos}" data-letter="${h.letter}">${h.letter}</div>`
                ).join('');
                
                document.querySelectorAll('.hex').forEach(hex => {
                    hex.addEventListener('click', () => {
                        const input = document.getElementById('guess');
                        input.value += hex.dataset.letter;
                        input.dispatchEvent(new Event('input'));
                        input.focus();
                    });
                });
                
                document.getElementById('guess').focus();
                document.body.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('btn')) {
                        document.getElementById('guess').focus();
                    }
                });
                
                document.getElementById('deleteBtn').addEventListener('click', () => {
                    const input = document.getElementById('guess');
                    input.value = input.value.slice(0, -1);
                    input.dispatchEvent(new Event('input'));
                    input.focus();
                });
                
                document.getElementById('shuffleBtn').addEventListener('click', () => {
                    const positions = ['pos-0', 'pos-1', 'pos-2', 'pos-3', 'pos-4', 'pos-5'];
                    const outerHexes = document.querySelectorAll('.hex:not(.center)');
                    const shuffled = [...positions].sort(() => Math.random() - 0.5);
                    outerHexes.forEach((hex, i) => {
                        hex.className = 'hex ' + shuffled[i];
                    });
                    document.getElementById('guess').focus();
                });
                
                document.getElementById('wildBtn').addEventListener('click', () => {
                    const input = document.getElementById('guess');
                    input.value += '*';
                    input.dispatchEvent(new Event('input'));
                    input.focus();
                });
                
                console.log('Answers:', answers);
                return answers;
            } catch (error) {
                console.error('Error fetching:', error);
            }
        }
        
        fetchSpellingBeeAnswers();
    </script>
</body>
</html>
